---
// src/pages/auth/login.astro
import "@/styles/global.css";
const loginClientUrl = Astro.resolve('../../scripts/auth/login.client.ts');
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Login • SoulLog</title>
	</head>
	<body>
		<main class="max-w-md mx-auto p-6 space-y-6">
			<h1 class="text-3xl font-semibold text-center">Welcome back</h1>

			<!-- Remove action/method; use JS-only buttons -->
			<form id="login-form" class="card p-4 space-y-3" autocomplete="on">
				<input
					name="email"
					type="email"
					placeholder="Email"
					class="w-full p-3 rounded-xl border border-slate-300"
					required
				/>
				<input
					name="password"
					type="password"
					placeholder="Password"
					class="w-full p-3 rounded-xl border border-slate-300"
					required
				/>
				<button
					type="button"
					id="login-btn"
					class="w-full px-4 py-3 rounded-2xl bg-slate-900 text-white"
					>Log in</button
				>

				<div class="text-sm text-slate-600 text-center">— or —</div>
				<button
					type="button"
					id="magic"
					class="w-full px-4 py-3 rounded-2xl border"
					>Send me a magic link</button
				>

				<p class="text-sm text-slate-600">
					No account? <a href="/auth/signup" class="underline"
						>Sign up</a>
				</p>
				<div id="msg" class="text-sm"></div>
			</form>
		</main>

    <script type="module" src={loginClientUrl}></script>
	</body>
</html>
